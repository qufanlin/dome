<!DOCTYPE html>
<html>

	<head>
		<meta charset="UTF-8">
		<title>自动打字</title>
		<style type="text/css">
			.main {
				border: 1px solid transparent;
			}
			
			.content,
			.tips {
				width: 200px;
				padding: 10px;
				text-align: center;
				margin: auto;
				margin-top: 10px;
				border: 1px solid gray;
			}
			
			.show {
				width: 200px;
				word-break: break-all;
				margin: auto;
				padding: 20px;				
				color: goldenrod;
			}
		</style>
	</head>

	<body>
		<div class="main">
			<div class="content">
				春眠不觉晓，处处闻啼鸟。 夜来风雨声，花落知多少。
			</div>
			<div class="content">
				红豆生南国，春来发几枝。 愿君多采撷，此物最相思。
			</div>
			<div class="content">
				岭外音书断，经冬复历春。 近乡情更怯，不敢问来人。
			</div>
			<div class="tips">
				提示:点击一首诗开始
			</div>
			<div class="show"></div>
		</div>
	</body>
	<script type="text/javascript">
		var play = document.getElementsByClassName('content');
		var show = document.querySelector('.show');
		var flag = true;
		for(var i = 0; i < play.length; i++) {
			play[i].onclick = function() {
				var m = this.innerHTML;
				show.innerHTML = '';
				var j = 0;
				if(flag) {
					flag = false;
					(function out() {
						if(j <= m.length) {
							setTimeout(function() {
								show.innerHTML = m.slice(0, j++);
								out();
							}, 150);
						} else {
							show.innerHTML = m;
							flag = true;
						}
					})();
				}
			}
		}
	</script> 
</html>